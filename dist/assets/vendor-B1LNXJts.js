var t=Object.defineProperty,n=(n,e,o)=>((n,e,o)=>e in n?t(n,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[e]=o)(n,"symbol"!=typeof e?e+"":e,o);function e(){}function o(t,n){for(const e in n)t[e]=n[e];return t}function r(t){return t()}function s(){return Object.create(null)}function i(t){t.forEach(r)}function c(t){return"function"==typeof t}function a(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function u(t,...n){if(null==t){for(const t of n)t(void 0);return e}const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function l(t,n,e){t.$$.on_destroy.push(u(n,e))}function f(t,n,e,o){if(t){const r=d(t,n,e,o);return t[0](r)}}function d(t,n,e,r){return t[1]&&r?o(e.ctx.slice(),t[1](r(n))):e.ctx}function p(t,n,e,o){if(t[2]&&o){const r=t[2](o(e));if(void 0===n.dirty)return r;if("object"==typeof r){const t=[],e=Math.max(n.dirty.length,r.length);for(let o=0;o<e;o+=1)t[o]=n.dirty[o]|r[o];return t}return n.dirty|r}return n.dirty}function h(t,n,e,o,r,s){if(r){const i=d(n,e,o,s);t.p(i,r)}}function $(t){if(t.ctx.length>32){const n=[],e=t.ctx.length/32;for(let t=0;t<e;t++)n[t]=-1;return n}return-1}function g(t){const n={};for(const e in t)"$"!==e[0]&&(n[e]=t[e]);return n}function m(t,n){const e={};n=new Set(n);for(const o in t)n.has(o)||"$"===o[0]||(e[o]=t[o]);return e}function b(t){const n={};for(const e in t)n[e]=!0;return n}function y(t){return t&&c(t.destroy)?t.destroy:e}function _(t,n){t.appendChild(n)}function v(t,n,e){t.insertBefore(n,e||null)}function w(t){t.parentNode&&t.parentNode.removeChild(t)}function x(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function E(t){return document.createElement(t)}function k(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function j(t){return document.createTextNode(t)}function O(){return j(" ")}function S(){return j("")}function A(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function L(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function N(t,n){for(const e in n)L(t,e,n[e])}function C(t,n){n=""+n,t.data!==n&&(t.data=n)}function P(t,n){t.value=null==n?"":n}function R(t,n,e,o){null==e?t.style.removeProperty(n):t.style.setProperty(n,e,"")}function q(t,n,e){t.classList.toggle(n,!!e)}function D(t,n){return new t(n)}let I;function T(t){I=t}function z(){if(!I)throw new Error("Function called outside component initialization");return I}function M(t){z().$$.on_mount.push(t)}function X(){const t=z();return(n,e,{cancelable:o=!1}={})=>{const r=t.$$.callbacks[n];if(r){const s=function(t,n,{bubbles:e=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:n,bubbles:e,cancelable:o})}(n,e,{cancelable:o});return r.slice().forEach(n=>{n.call(t,s)}),!s.defaultPrevented}return!0}}function Y(t,n){const e=t.$$.callbacks[n.type];e&&e.slice().forEach(t=>t.call(this,n))}const B=[],F=[];let U=[];const W=[],G=Promise.resolve();let H=!1;function J(){H||(H=!0,G.then(tt))}function K(t){U.push(t)}function Q(t){W.push(t)}const V=new Set;let Z=0;function tt(){if(0!==Z)return;const t=I;do{try{for(;Z<B.length;){const t=B[Z];Z++,T(t),nt(t.$$)}}catch(n){throw B.length=0,Z=0,n}for(T(null),B.length=0,Z=0;F.length;)F.pop()();for(let t=0;t<U.length;t+=1){const n=U[t];V.has(n)||(V.add(n),n())}U.length=0}while(B.length);for(;W.length;)W.pop()();H=!1,V.clear(),T(t)}function nt(t){if(null!==t.fragment){t.update(),i(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(K)}}const et=new Set;let ot;function rt(){ot={r:0,c:[],p:ot}}function st(){ot.r||i(ot.c),ot=ot.p}function it(t,n){t&&t.i&&(et.delete(t),t.i(n))}function ct(t,n,e,o){if(t&&t.o){if(et.has(t))return;et.add(t),ot.c.push(()=>{et.delete(t),o&&(e&&t.d(1),o())}),t.o(n)}else o&&o()}function at(t){return void 0!==(null==t?void 0:t.length)?t:Array.from(t)}function ut(t,n){const e={},o={},r={$$scope:1};let s=t.length;for(;s--;){const i=t[s],c=n[s];if(c){for(const t in i)t in c||(o[t]=1);for(const t in c)r[t]||(e[t]=c[t],r[t]=1);t[s]=c}else for(const t in i)r[t]=1}for(const i in o)i in e||(e[i]=void 0);return e}function lt(t){return"object"==typeof t&&null!==t?t:{}}function ft(t,n,e){const o=t.$$.props[n];void 0!==o&&(t.$$.bound[o]=e,e(t.$$.ctx[o]))}function dt(t){t&&t.c()}function pt(t,n,e){const{fragment:o,after_update:s}=t.$$;o&&o.m(n,e),K(()=>{const n=t.$$.on_mount.map(r).filter(c);t.$$.on_destroy?t.$$.on_destroy.push(...n):i(n),t.$$.on_mount=[]}),s.forEach(K)}function ht(t,n){const e=t.$$;null!==e.fragment&&(!function(t){const n=[],e=[];U.forEach(o=>-1===t.indexOf(o)?n.push(o):e.push(o)),e.forEach(t=>t()),U=n}(e.after_update),i(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function $t(t,n,o,r,c,a,u=null,l=[-1]){const f=I;T(t);const d=t.$$={fragment:null,ctx:[],props:a,update:e,not_equal:c,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:s(),dirty:l,skip_bound:!1,root:n.target||f.$$.root};u&&u(d.root);let p=!1;if(d.ctx=o?o(t,n.props||{},(n,e,...o)=>{const r=o.length?o[0]:e;return d.ctx&&c(d.ctx[n],d.ctx[n]=r)&&(!d.skip_bound&&d.bound[n]&&d.bound[n](r),p&&function(t,n){-1===t.$$.dirty[0]&&(B.push(t),J(),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}(t,n)),e}):[],d.update(),p=!0,i(d.before_update),d.fragment=!!r&&r(d.ctx),n.target){if(n.hydrate){const t=(h=n.target,Array.from(h.childNodes));d.fragment&&d.fragment.l(t),t.forEach(w)}else d.fragment&&d.fragment.c();n.intro&&it(t.$$.fragment),pt(t,n.target,n.anchor),tt()}var h;T(f)}class gt{constructor(){n(this,"$$"),n(this,"$$set")}$destroy(){ht(this,1),this.$destroy=e}$on(t,n){if(!c(n))return e;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");const mt=[];function bt(t,n){return{subscribe:yt(t,n).subscribe}}function yt(t,n=e){let o;const r=new Set;function s(n){if(a(t,n)&&(t=n,o)){const n=!mt.length;for(const e of r)e[1](),mt.push(e,t);if(n){for(let t=0;t<mt.length;t+=2)mt[t][0](mt[t+1]);mt.length=0}}}function i(n){s(n(t))}return{set:s,update:i,subscribe:function(c,a=e){const u=[c,a];return r.add(u),1===r.size&&(o=n(s,i)||e),c(t),()=>{r.delete(u),0===r.size&&o&&(o(),o=null)}}}}function _t(t,n,o){const r=!Array.isArray(t),s=r?[t]:t;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=n.length<2;return bt(o,(t,o)=>{let l=!1;const f=[];let d=0,p=e;const h=()=>{if(d)return;p();const s=n(r?f[0]:f,t,o);a?t(s):p=c(s)?s:e},$=s.map((t,n)=>u(t,t=>{f[n]=t,d&=~(1<<n),l&&h()},()=>{d|=1<<n}));return l=!0,h(),function(){i($),p(),l=!1}})}function vt(t){let n,e,r;const s=[t[2]];var i=t[0];function c(t,n){let e={};for(let r=0;r<s.length;r+=1)e=o(e,s[r]);return void 0!==n&&4&n&&(e=o(e,ut(s,[lt(t[2])]))),{props:e}}return i&&(n=D(i,c(t)),n.$on("routeEvent",t[7])),{c(){n&&dt(n.$$.fragment),e=S()},m(t,o){n&&pt(n,t,o),v(t,e,o),r=!0},p(t,o){if(1&o&&i!==(i=t[0])){if(n){rt();const t=n;ct(t.$$.fragment,1,0,()=>{ht(t,1)}),st()}i?(n=D(i,c(t,o)),n.$on("routeEvent",t[7]),dt(n.$$.fragment),it(n.$$.fragment,1),pt(n,e.parentNode,e)):n=null}else if(i){const e=4&o?ut(s,[lt(t[2])]):{};n.$set(e)}},i(t){r||(n&&it(n.$$.fragment,t),r=!0)},o(t){n&&ct(n.$$.fragment,t),r=!1},d(t){t&&w(e),n&&ht(n,t)}}}function wt(t){let n,e,r;const s=[{params:t[1]},t[2]];var i=t[0];function c(t,n){let e={};for(let r=0;r<s.length;r+=1)e=o(e,s[r]);return void 0!==n&&6&n&&(e=o(e,ut(s,[2&n&&{params:t[1]},4&n&&lt(t[2])]))),{props:e}}return i&&(n=D(i,c(t)),n.$on("routeEvent",t[6])),{c(){n&&dt(n.$$.fragment),e=S()},m(t,o){n&&pt(n,t,o),v(t,e,o),r=!0},p(t,o){if(1&o&&i!==(i=t[0])){if(n){rt();const t=n;ct(t.$$.fragment,1,0,()=>{ht(t,1)}),st()}i?(n=D(i,c(t,o)),n.$on("routeEvent",t[6]),dt(n.$$.fragment),it(n.$$.fragment,1),pt(n,e.parentNode,e)):n=null}else if(i){const e=6&o?ut(s,[2&o&&{params:t[1]},4&o&&lt(t[2])]):{};n.$set(e)}},i(t){r||(n&&it(n.$$.fragment,t),r=!0)},o(t){n&&ct(n.$$.fragment,t),r=!1},d(t){t&&w(e),n&&ht(n,t)}}}function xt(t){let n,e,o,r;const s=[wt,vt],i=[];function c(t,n){return t[1]?0:1}return n=c(t),e=i[n]=s[n](t),{c(){e.c(),o=S()},m(t,e){i[n].m(t,e),v(t,o,e),r=!0},p(t,[r]){let a=n;n=c(t),n===a?i[n].p(t,r):(rt(),ct(i[a],1,1,()=>{i[a]=null}),st(),e=i[n],e?e.p(t,r):(e=i[n]=s[n](t),e.c()),it(e,1),e.m(o.parentNode,o))},i(t){r||(it(e),r=!0)},o(t){ct(e),r=!1},d(t){t&&w(o),i[n].d(t)}}}function Et(){const t=window.location.href.indexOf("#/");let n=t>-1?window.location.href.substr(t+1):"/";const e=n.indexOf("?");let o="";return e>-1&&(o=n.substr(e+1),n=n.substr(0,e)),{location:n,querystring:o}}const kt=bt(null,function(t){t(Et());const n=()=>{t(Et())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}}),jt=_t(kt,t=>t.location);_t(kt,t=>t.querystring);const Ot=yt(void 0);function St(t,n){if(n=Lt(n),!t||!t.tagName||"a"!=t.tagName.toLowerCase())throw Error('Action "link" can only be used with <a> tags');return At(t,n),{update(n){n=Lt(n),At(t,n)}}}function At(t,n){let e=n.href||t.getAttribute("href");if(e&&"/"==e.charAt(0))e="#"+e;else if(!e||e.length<2||"#/"!=e.slice(0,2))throw Error('Invalid value for "href" attribute: '+e);t.setAttribute("href",e),t.addEventListener("click",t=>{t.preventDefault(),n.disabled||function(t){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=t}(t.currentTarget.getAttribute("href"))})}function Lt(t){return t&&"string"==typeof t?{href:t}:t||{}}function Nt(t,n,e){let{routes:o={}}=n,{prefix:r=""}=n,{restoreScrollState:s=!1}=n;class i{constructor(t,n){if(!n||"function"!=typeof n&&("object"!=typeof n||!0!==n._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:e,keys:o}=function(t){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,e,o,r,s=[],i="",c=t.split("/");for(c[0]||c.shift();o=c.shift();)"*"===(n=o[0])?(s.push("wild"),i+="/(.*)"):":"===n?(e=o.indexOf("?",1),r=o.indexOf(".",1),s.push(o.substring(1,~e?e:~r?r:o.length)),i+=~e&&!~r?"(?:/([^/]+?))?":"/([^/]+?)",~r&&(i+=(~e?"?":"")+"\\"+o.substring(r))):i+="/"+o;return{keys:s,pattern:new RegExp("^"+i+"/?$","i")}}(t);this.path=t,"object"==typeof n&&!0===n._sveltesparouter?(this.component=n.component,this.conditions=n.conditions||[],this.userData=n.userData,this.props=n.props||{}):(this.component=()=>Promise.resolve(n),this.conditions=[],this.props={}),this._pattern=e,this._keys=o}match(t){if(r)if("string"==typeof r){if(!t.startsWith(r))return null;t=t.substr(r.length)||"/"}else if(r instanceof RegExp){const n=t.match(r);if(!n||!n[0])return null;t=t.substr(n[0].length)||"/"}const n=this._pattern.exec(t);if(null===n)return null;if(!1===this._keys)return n;const e={};let o=0;for(;o<this._keys.length;){try{e[this._keys[o]]=decodeURIComponent(n[o+1]||"")||null}catch(s){e[this._keys[o]]=null}o++}return e}async checkConditions(t){for(let n=0;n<this.conditions.length;n++)if(!(await this.conditions[n](t)))return!1;return!0}}const c=[];o instanceof Map?o.forEach((t,n)=>{c.push(new i(n,t))}):Object.keys(o).forEach(t=>{c.push(new i(t,o[t]))});let a=null,u=null,l={};const f=X();async function d(t,n){await(J(),G),f(t,n)}let p=null,h=null;var $;s&&(h=t=>{p=t.state&&(t.state.__svelte_spa_router_scrollY||t.state.__svelte_spa_router_scrollX)?t.state:null},window.addEventListener("popstate",h),$=()=>{var t;(t=p)?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)},z().$$.after_update.push($));let g=null,m=null;const b=kt.subscribe(async t=>{g=t;let n=0;for(;n<c.length;){const o=c[n].match(t.location);if(!o){n++;continue}const r={route:c[n].path,location:t.location,querystring:t.querystring,userData:c[n].userData,params:o&&"object"==typeof o&&Object.keys(o).length?o:null};if(!(await c[n].checkConditions(r)))return e(0,a=null),m=null,void d("conditionsFailed",r);d("routeLoading",Object.assign({},r));const s=c[n].component;if(m!=s){s.loading?(e(0,a=s.loading),m=s,e(1,u=s.loadingParams),e(2,l={}),d("routeLoaded",Object.assign({},r,{component:a,name:a.name,params:u}))):(e(0,a=null),m=null);const n=await s();if(t!=g)return;e(0,a=n&&n.default||n),m=s}return o&&"object"==typeof o&&Object.keys(o).length?e(1,u=o):e(1,u=null),e(2,l=c[n].props),void d("routeLoaded",Object.assign({},r,{component:a,name:a.name,params:u})).then(()=>{Ot.set(u)})}e(0,a=null),m=null,Ot.set(void 0)});return function(t){z().$$.on_destroy.push(t)}(()=>{b(),h&&window.removeEventListener("popstate",h)}),t.$$set=t=>{"routes"in t&&e(3,o=t.routes),"prefix"in t&&e(4,r=t.prefix),"restoreScrollState"in t&&e(5,s=t.restoreScrollState)},t.$$.update=()=>{32&t.$$.dirty&&(history.scrollRestoration=s?"manual":"auto")},[a,u,l,o,r,s,function(n){Y.call(this,t,n)},function(n){Y.call(this,t,n)}]}class Ct extends gt{constructor(t){super(),$t(this,t,Nt,xt,a,{routes:3,prefix:4,restoreScrollState:5})}}export{E as A,L as B,M as C,i as D,q as E,y as F,St as G,O as H,l as I,jt as J,rt as K,st as L,R as M,Y as N,b as O,C as P,j as Q,P as R,gt as S,F as T,ft as U,Q as V,Ct as W,o as a,x as b,f as c,w as d,at as e,it as f,$ as g,p as h,$t as i,N as j,ut as k,v as l,_ as m,k as n,S as o,m as p,g as q,ht as r,a as s,ct as t,h as u,lt as v,pt as w,dt as x,e as y,A as z};
